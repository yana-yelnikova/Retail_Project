version: 2

models:
  - name: stg_walmart # Name of dbt model
    description: "Staging model for raw Walmart sales data. Performs basic cleaning, column renaming, and standardizes case."
    columns:
      - name: transaction_id
        description: "Unique identifier for the transaction."
        tests:
          - not_null
          - unique
      - name: product_id
        description: "Unique identifier for the product."
        tests:
          - not_null
      - name: product_name
        description: "Name of the product."
        tests:
          - not_null
      - name: category_abbreviation
        description: "Original abbreviated product category (e.g., 'Electronics', 'Appliances')."
      - name: customer_age
        description: "Age of the customer."
      - name: customer_gender
        description: "Gender of the customer."
      - name: customer_id
        description: "Unique identifier for the customer."
        tests:
          - not_null
      - name: customer_income
        description: "Income level of the customer."
      - name: customer_loyalty_level
        description: "Loyalty program level of the customer."
      - name: forecasted_demand
        description: "Forecasted demand for the product at the time of transaction."
      - name: holiday_indicator
        description: "Boolean indicating if the transaction occurred during a special holiday week."
      - name: inventory_level
        description: "Current inventory level for the product at the time of transaction."
      - name: payment_method
        description: "Method of payment used for the transaction."
      - name: promotion_applied
        description: "Boolean indicating if a promotion was applied to the transaction."
      - name: promotion_type
        description: "Type of promotion applied."
      - name: quantity_sold
        description: "Quantity of product units sold in the transaction."
        tests:
          - not_null
      - name: reorder_point
        description: "Inventory reorder point for the product."
      - name: reorder_quantity
        description: "Quantity to reorder for the product."
      - name: stockout_indicator
        description: "Boolean indicating if the product was out of stock."
      - name: store_id
        description: "Unique identifier for the physical store where the transaction occurred."
        tests:
          - not_null
      - name: store_location
        description: "Geographic location of the store."
      - name: supplier_id
        description: "Unique identifier for the product's supplier."
      - name: supplier_lead_time
        description: "Lead time for supplier delivery in days."
      - name: transaction_date
        description: "Date and time of the transaction."
        tests:
          - not_null
      - name: unit_price
        description: "Unit price of the product."
        tests:
          - not_null
      - name: weather_conditions
        description: "Weather conditions at the time of the transaction."
      - name: weekday_name
        description: "Day of the week (e.g., 'Monday')."
      - name: actual_demand
        description: "Actual demand observed for the product."
